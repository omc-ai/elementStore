; ElementStore CouchDB Configuration
; This file is mounted to /opt/couchdb/etc/local.d/

[couchdb]
; Single node setup
single_node = true

; Maximum document size (50MB)
max_document_size = 52428800

[chttpd]
; Bind to all interfaces
bind_address = 0.0.0.0

; Port
port = 5984

; Enable authentication
require_valid_user = false

[httpd]
; Enable CORS
enable_cors = true

[cors]
; CORS configuration for ElementStore
origins = *
credentials = true
methods = GET, PUT, POST, HEAD, DELETE, OPTIONS
headers = accept, authorization, content-type, origin, referer, x-csrf-token

[log]
; Logging level: debug, info, notice, warning, error
level = info

[query_server_config]
; Reduce memory limit
reduce_limit = true

[couch_peruser]
; Disable per-user databases
enable = false

[cluster]
; Single node configuration
n = 1
q = 2
